{% extends "layout/fullPageScroll.html" %}
{% load static %}  {# Load static files #}
{% load macros %}
{% loadmacros "macros/pagination.html"%}

{% block pageDropDowns %}
    <a href="{% url 'display_company_members' pk=company.id %}">View Members</a>
    <a href="{% url 'companies_list' %}">Return To Companies List</a>
    {%if is_admin %}
       <a href="{% url 'edit_company_info_post' pk=company.id %}">Edit Company</a>
       <a href="{% url 'edit_company_members' pk=company.id %}">Edit Members</a>
       <form method="post" action="{% url 'delete_company' pk=company.id %}">
        {% csrf_token %}
        <button type="submit" onclick="return confirm('Are you sure you want to delete this company?')">Delete Company</button>
      </form> 
    {% endif %}
{% endblock %}


{% if is_admin or user.name == post_author %}
<form method="post" action="{% url 'delete_post' post.id %}">
  {% csrf_token %}
  <button type="submit" onclick="return confirm('Are you sure you want to delete this post?')">Delete</button>
</form> 
<a href="{% url 'edit_post' post.thread.id post.id %}">Edit</a>
{% endif %}


{% block pageContent %}

    <h3 style="color: grey";>   GENERAL INFORMATION  </h3>
    <div class="company-info-table">
        <table>
            <tr>
                <th>Company Name</th>
                <td>{{ company.name }}</td>
            </tr>
            <tr>
                <th>Address 1</th>
                <td>{{ company.address1 }}</td>
            </tr>
            <tr>
                <th>Address 2</th>
                <td>{{ company.address2 }}</td>
            </tr>
            <tr>
                <th>City</th>
                <td>{{ company.city }}</td>
            </tr>
            <tr>
                <th>State</th>
                <td>{{ company.state }}</td>
            </tr>
            <tr>
                <th>ZIP Code</th>
                <td>{{ company.zipcode }}</td>
            </tr>
            <tr>
                <th>Country</th>
                <td>{{ company.country }}</td>
            </tr>
            <tr>
                <th>Phone Number</th>
                <td>{{ company.phone }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ company.email }}</td>
            </tr>
        </table>
        <p>  <h3 style="color: grey";>  COMPANY MEMBERS  </h3>  <p>
        <table>
            <tr>
                <th>Name</th>
                <th>Email</th>
            </tr>
            {% for user in users %}
                <tr>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                </tr>
            {% endfor %}
        </table>

        <!-- Pagination -->
        {% use_macro render_pagination page_obj %}
    </div>
{% endblock %}
